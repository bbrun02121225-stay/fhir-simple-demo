# 《智慧癌症照護 FHIR 資料整合系統》— 系統規劃文件 v1.0.0

## **1. 情境敘述**

臨床資料可能來源於不同資訊系統，例如電子病歷、檢驗系統、影像或問卷系統。

這些資料格式、欄位名稱與結構缺乏一致性，導致：
1. 難以完整掌握病人全貌
2. 無法順暢進行跨系統或跨機構交換
3. 不利於 AI/ML 模型使用結構化資料

---

## **2. 情境目標**

### **2.1 要解決的問題**

- 各系統資料格式不一致（欄位差異極大）
- 資料通常由多個獨立系統產生，缺乏一致標準，使後續整合與分析困難。
- 缺乏標準化格式，無法跨系統使用或支援 AI 運算
- 人工對欄位、治療史、檢驗資料進行比對耗時且容易錯誤

### **2.2 系統目標**

- 建立**跨系統共通的 FHIR 資料模型**
    - Patient
    - Observation（生命徵象、檢驗資料、評估量表）
    - Condition（診斷資訊）
    - Procedure（臨床處置）
    - MedicationStatement / MedicationRequest（藥物使用紀錄）
- 讓醫護人員可在**單一畫面看到所有系統資料**
- 大幅降低資料清洗時間，提升可讀性
- 讓 AI / ML 模型可直接吃 FHIR 結構化資料，提升分析品質
- 支援跨系統查詢（未來可延伸至 FHIR server-to-server exchange）

---

## **3. 需求分析**

### **3.1 病人資料整合**

- 可以查詢病人的基本資料（生日、性別、身高、體重）

### **3.2 量測資料查詢**

- 可以看到病人的生命徵象及檢驗資料
- 可以看到相關評估量表結果

### **3.3 診斷與治療資訊整合**

- 要看到診斷資訊（疾病分類代碼、分期、臨床狀態等）
- 要看到臨床處置與藥物使用資訊

### **3.4 跨資料表串聯**

- 按病人 UUID 自動把不同系統資料組合起來

### **3.5 FHIR 檔案匯出**

- 系統可以把所有資訊轉成標準 FHIR JSON

---

## **4. 工作流程**

### **4.1 系統運作流程**

1. **病人產生 UUID**
    
    所有資料來源都會使用相同的 UUID。
    
2. **系統讀取多來源資料，例如生命徵象、檢驗結果、影像報告摘要、問卷紀錄等。**
    
3. **系統將資料轉換成 FHIR Resource**
    - 生命徵象 → Observation
    - 檢驗資料 → Observation
    - 評估量表 → Observation
    - 診斷資訊 → Condition
    - 臨床處置、藥物使用 → Procedure / MedicationStatement
4. **系統自動打包成一份完整的 FHIR Bundle**
    
    內含 Patient、Observation、Condition、Procedure、Medication 等資料。
    
5. **使用者在瀏覽器看到整合界面：**
    - 基本資料
    - 檢驗趨勢
    - 評估量表趨勢
    - 診斷與治療時間軸
6. **資料可以被 Github、FHIR Server 或其他系統讀取**

---

## **5. 使用角色**

- **病人**：提供個人資料與問卷
- **護理師**：紀錄基本生命徵象、量測資料
- **醫師**：查詢所有整合後的 FHIR 病歷資料
- **資料工程師**：維護 FHIR Mapping 與格式轉換
- **研究者 / AI 工程師**：使用標準化資料進行分析、建模

---

## **6. 主要 FHIR Resource**

### **6.1 Patient（病人基本資料）**

- UUID
- 性別（0/1）
- 生日（yyyy/mm）

---

### **6.2 Observation（最重要：所有量測都能統一轉換）**

生命徵象（如身高、體重、血壓、脈搏）  
檢驗資料（如血液、化學、生物標記）  
評估量表（如功能評估、認知評估等）

---

### **6.3 Condition**

診斷內容可包含疾病分類代碼、分期資訊或臨床狀態描述。

---

### **6.4 Procedure**

臨床處置，包括手術、治療程序或其他介入行為。

---

### **6.5 MedicationStatement / MedicationRequest**

藥物使用紀錄，包括藥物名稱、用法用量與期間。

---

### **6.6 QuestionnaireResponse**

來源：問卷系統資料

